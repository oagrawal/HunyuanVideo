# Create and enter HunyuanVideo container
alias hv-create='docker run -it --gpus all --init --net=host --uts=host --ipc=host --name hunyuanvideo --security-opt=seccomp=unconfined --ulimit=stack=671088>

# Enter existing HunyuanVideo container
alias hv='docker start -ai hunyuanvideo'

# Recreate container from scratch
alias hv-reset='docker rm -f hunyuanvideo && hv-create'



run inference:
python3 sample_video.py \
    --video-size 544 960 \
    --video-length 129 \
    --infer-steps 50 \
    --prompt "A cat walks on the grass, realistic style." \
    --flow-reverse \
    --use-cpu-offload \
    --save-path ./results



run inference with TeaCache:

  python3 teacache_sample_video.py \
    --video-size 544 960 \
    --video-length 129 \
    --infer-steps 50 \
    --prompt "City street in rain - speeding motorcycles blur past, while a street musician stands still playing, rain falls steadily" \
    --flow-reverse \
    --use-cpu-offload \
    --save-path ./teacache_results


  python3 teacache_sample_video.py \
    --video-size 544 960 \
    --video-length 129 \
    --infer-steps 50 \
    --prompt "A monk meditating on top of a beautifiul mountain - calm and still." \
    --flow-reverse \
    --use-cpu-offload \
    --save-path ./teacache_results


  python3 teacache_sample_video.py \
    --video-size 544 960 \
    --video-length 129 \
    --infer-steps 50 \
    --prompt "Two anthropomorphic cats in comfy boxing gear and bright gloves fight intensely on a spotlighted stage." \
    --flow-reverse \
    --use-cpu-offload \
    --save-path ./teacache_results


    
if you get the EACCES error:
chmod -R 777 ./





##########################################################################################################################################




if you dont have the docker image:
docker pull hunyuanvideo/hunyuanvideo:cuda_11


run the docker image:

USE THIS:
0) docker run -it --gpus all --init --net=host --uts=host --ipc=host --name hunyuanvideo --security-opt=seccomp=unconfined --ulimit=stack=67108864 --ulimit=memlock=-1 --privileged -v $(pwd):/workspace hunyuanvideo/hunyuanvideo:cuda_11 bash



0.5) docker run -it --gpus all --init --net=host --uts=host --ipc=host --name hunyuanvideo --security-opt=seccomp=unconfined --ulimit=stack=67108864 --ulimit=memlock=-1 --privileged -v $(pwd):/workspace hunyuanvideo/hunyuanvideo:cuda_11 bash



1) docker run -it --gpus all --init --net=host --uts=host --ipc=host --name hunyuanvideo --security-opt=seccomp=unconfined --ulimit=stack=67108864 --ulimit=memlock=-1 --privileged hunyuanvideo/hunyuanvideo:cuda_11 bash

or 2) 

docker run -itd --gpus all --init --net=host --uts=host --ipc=host --name hunyuanvideo --security-opt=seccomp=unconfined --ulimit=stack=67108864 --ulimit=memlock=-1 --privileged hunyuanvideo/hunyuanvideo:cuda_11
then:
docker exec -it hunyuanvideo bash

to delete the container but not the image:
docker rm -f hunyuanvideo

run inference:
python3 sample_video.py \
    --video-size 544 960 \
    --video-length 129 \
    --infer-steps 50 \
    --prompt "A cat walks on the grass, realistic style." \
    --flow-reverse \
    --use-cpu-offload \
    --save-path ./results



run inference with TeaCache:

  python3 teacache_sample_video.py \
    --video-size 544 960 \
    --video-length 129 \
    --infer-steps 50 \
    --prompt "City street in rain - speeding motorcycles blur past, while a street musician stands still playing, rain falls steadily" \
    --flow-reverse \
    --use-cpu-offload \
    --save-path ./teacache_results

    
if you get the EACCES error:
chmod -R 777 ./